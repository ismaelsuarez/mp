<!doctype html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>MP â€“ Modo Caja</title>
	<link rel="stylesheet" href="style.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    /* Ajustes compactos para 400x300 */
    .container{max-width:480px}
    .table-container { overflow-x: auto; }
    .compact-table { font-size: 11.7px; }
    .compact-table th, .compact-table td { padding: 2px 4px; }
    /* Ajuste de espacio inferior (sin footer) */
    main { margin-bottom: 0; }
    
    /* Scrollbar personalizado para logs (tema oscuro) */
    #cajaLogs {
        overflow-y: auto;
        overflow-x: hidden;
        scroll-behavior: smooth;
    }
    #cajaLogs::-webkit-scrollbar {
        width: 8px;
    }
    #cajaLogs::-webkit-scrollbar-track {
        background: #1e293b; /* slate-800 */
        border-radius: 4px;
    }
    #cajaLogs::-webkit-scrollbar-thumb {
        background: #475569; /* slate-600 */
        border-radius: 4px;
    }
    #cajaLogs::-webkit-scrollbar-thumb:hover {
        background: #64748b; /* slate-500 */
    }
    </style>
</head>
<body class="text-slate-200">
	<nav class="bg-slate-800 border-b border-slate-700">
    <div class="container flex items-center justify-between py-2">
        <div class="flex items-center gap-4">
            <button class="tab" data-tab="home" title="Inicio">
                <img src="./icons/home.png" alt="Inicio" class="w-8 h-8 rounded-full"/>
            </button>
            <button class="tab" data-tab="table" title="Movimientos">
                <img src="./icons/mp.png" alt="Movimientos" class="w-8 h-8 rounded-full"/>
            </button>
            <button class="tab" data-tab="fact" title="Facturas">
                <img src="./icons/peso.png" alt="Facturas" class="w-8 h-8 rounded-full"/>
            </button>
        </div>
        <button id="btnGoConfig" title="Config">
            <img src="./icons/settings.png" alt="Config" class="w-8 h-8 rounded-full"/>
        </button>
    </div>
	</nav>

    <main class="container mt-2">
		<section id="pane-home" class="tab-pane" style="display:block;">
            <div id="cajaLogs" class="bg-black border border-slate-600 rounded-md p-3 h-48 overflow-auto font-mono text-sm shadow-inner"></div>
		</section>

		<section id="pane-table" class="tab-pane" style="display:none;">
            <div class="table-container border border-slate-700 rounded-md">
                <table class="min-w-full compact-table">
                    <thead class="bg-slate-800">
						<tr>
                            <th class="text-left">ID</th>
                            <th class="text-left">Estado</th>
                            <th class="text-left">Monto</th>
                            <th class="text-left">Fecha/hora</th>
						</tr>
					</thead>
                    <tbody id="cajaTableBody"></tbody>
				</table>
			</div>
		</section>

        <section id="pane-fact" class="tab-pane" style="display:none;">
            <!-- Tabla PESOS (colapsable) -->
            <div class="mb-2">
                <div id="factHeaderPesos" class="bg-slate-800 border border-slate-700 rounded-md px-3 py-2 cursor-pointer hover:bg-slate-750 transition-colors flex items-center justify-between">
                    <span id="factHeaderPesosText" class="text-sm font-semibold">â–¶ Facturas en PESOS</span>
                </div>
                <div id="factTablePesos" class="table-container border border-slate-700 rounded-b-md mt-0 hidden">
                    <table class="min-w-full compact-table">
                        <thead class="bg-slate-800">
                            <tr>
                                <th class="text-left">Tipo</th>
                                <th class="text-left">Desde</th>
                                <th class="text-left">Hasta</th>
                                <th class="text-right">Total</th>
                            </tr>
                        </thead>
                        <tbody id="cajaFactTableBodyPesos"></tbody>
                    </table>
                </div>
            </div>
            
            <!-- Tabla DÃ“LARES (colapsable) -->
            <div class="mb-2">
                <div id="factHeaderDolar" class="bg-slate-800 border border-slate-700 rounded-md px-3 py-2 cursor-pointer hover:bg-slate-750 transition-colors flex items-center justify-between">
                    <span id="factHeaderDolarText" class="text-sm font-semibold">â–¶ Facturas en DÃ“LARES ðŸ’µ</span>
                </div>
                <div id="factTableDolar" class="table-container border border-slate-700 rounded-b-md mt-0 hidden">
                    <table class="min-w-full compact-table">
                        <thead class="bg-slate-800">
                            <tr>
                                <th class="text-left">Tipo</th>
                                <th class="text-left">Desde</th>
                                <th class="text-left">Hasta</th>
                                <th class="text-right">Total</th>
                            </tr>
                        </thead>
                        <tbody id="cajaFactTableBodyDolar"></tbody>
                    </table>
                </div>
            </div>
        </section>
	</main>

    <!-- Indicador ARCA/AFIP health -->
    <div class="fixed bottom-4 left-4">
        <img id="arcaIndicator" src="./icons/arca_verde.png" alt="ARCA" class="w-10 h-10 rounded-full shadow" title="ARCA"/>
    </div>
    <script src="../dist/src/caja.js"></script>
</body>
</html>
